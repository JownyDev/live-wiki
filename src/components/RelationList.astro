---
export type RelationItem = {
  text: string;
  href?: string;
};

type Props = {
  label: string;
  items: RelationItem[];
  emptyText?: string;
};

const { label, items, emptyText } = Astro.props;
const hasItems = items.length > 0;
const shouldRender = hasItems || typeof emptyText === 'string';
---

{shouldRender ? (
  <div class="relation-list">
    <h2>{label}</h2>
    {hasItems ? (
      <ul>
        {items.map((item) => (
          <li>
            {item.href ? (
              <a href={item.href}>{item.text}</a>
            ) : (
              <span class="relation-list__missing">{item.text}</span>
            )}
          </li>
        ))}
      </ul>
    ) : (
      <p class="relation-list__empty">{emptyText}</p>
    )}
  </div>
) : null}

<style>
  .relation-list__missing {
    opacity: 0.7;
  }

  .relation-list__empty {
    opacity: 0.7;
  }
</style>
