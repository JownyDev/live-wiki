---
import MemoryProfileCard from './MemoryProfileCard.astro';

type Props = {
  allowed: string[];
  defaultValue?: string | null;
};

const { allowed, defaultValue = null } = Astro.props as Props;
const hasItems = allowed.length > 0;
const columnCount = allowed.length;
---

{hasItems ? (
  <MemoryProfileCard title="Politica de procedencia" icon="policy">
    <div
      class="memory-provenance"
      style={`--memory-provenance-columns: ${columnCount};`}
    >
      {allowed.map((item) => (
        <span
          class={
            item === defaultValue
              ? 'memory-provenance__item memory-provenance__item--active'
              : 'memory-provenance__item'
          }
        >
          {item}
        </span>
      ))}
    </div>
  </MemoryProfileCard>
) : null}
