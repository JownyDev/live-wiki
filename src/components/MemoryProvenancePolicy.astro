---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import MemoryProfileCard from './MemoryProfileCard.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

type Props = {
  allowed: string[];
  defaultValue: string | null;
};

const { allowed, defaultValue } = Astro.props as Props;
const columns = allowed.length;
---

<MemoryProfileCard title={t("ui.provenance_policy")} icon="policy">
  <div class="memory-provenance" style={`--memory-provenance-columns: ${columns}`}>
    {allowed.map((item) => (
      <div
        class:list={[
          "memory-provenance__item",
          { "memory-provenance__item--active": item === defaultValue }
        ]}
      >
        {item}
      </div>
    ))}
  </div>
</MemoryProfileCard>