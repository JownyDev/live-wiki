---
type Props = {
  title: string;
  summary?: string;
  href?: string;
  era?: string;
  date?: string;
  tags?: string[];
};

const { title, summary, href, era, date, tags = [] } = Astro.props as Props;
const hasTags = tags.length > 0;
---

<article class="event-summary-card">
  <div class="event-summary-card__meta">
    {era ? <p class="event-summary-card__era">{era}</p> : null}
    {date ? <p class="event-summary-card__date">{date}</p> : null}
  </div>
  <div class="event-summary-card__content">
    <h3 class="event-summary-card__title">
      {href ? <a href={href}>{title}</a> : title}
    </h3>
    {summary ? <p class="event-summary-card__summary">{summary}</p> : null}
    {hasTags ? (
      <ul class="event-summary-card__tags">
        {tags.map((tag) => (
          <li class="event-summary-card__tag">{tag}</li>
        ))}
      </ul>
    ) : null}
  </div>
</article>

<style>
  .event-summary-card {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    background: var(--color-surface);
    transition: border-color 0.2s ease;
  }

  .event-summary-card:hover {
    border-color: var(--color-accent);
  }

  .event-summary-card__meta {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    font-size: 0.85rem;
    color: var(--color-muted);
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  .event-summary-card__era {
    margin: 0;
    color: var(--color-accent);
    font-weight: 700;
  }

  .event-summary-card__date {
    margin: 0;
    font-weight: 700;
    color: var(--color-text);
    text-transform: none;
    letter-spacing: 0;
    font-size: 1.1rem;
  }

  .event-summary-card__content {
    display: grid;
    gap: var(--space-2);
  }

  .event-summary-card__title {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--color-text);
  }

  .event-summary-card__title a {
    color: inherit;
    text-decoration: none;
  }

  .event-summary-card__title a:hover {
    color: var(--color-accent);
  }

  .event-summary-card__summary {
    margin: 0;
    font-size: 0.9rem;
    color: var(--color-muted);
  }

  .event-summary-card__tags {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    margin: 0;
    padding: 0;
  }

  .event-summary-card__tag {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    padding: 0.15rem 0.4rem;
    border-radius: var(--radius-pill);
    border: 1px solid var(--color-border);
    color: var(--color-muted);
    background: rgba(255, 255, 255, 0.03);
  }

  @media (min-width: 900px) {
    .event-summary-card {
      flex-direction: row;
      align-items: flex-start;
      gap: var(--space-5);
    }

    .event-summary-card__meta {
      min-width: 9.5rem;
    }
  }
</style>
