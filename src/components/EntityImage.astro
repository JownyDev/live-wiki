---
type Props = {
  src?: string | null;
  alt: string;
  caption?: string;
  variant?: 'hero' | 'panel';
};

const { src, alt, caption, variant = 'hero' } = Astro.props as Props;
const hasSource = typeof src === 'string' && src.length > 0;

const className = `entity-image entity-image--${variant}`;
---

{hasSource ? (
  <figure class={className}>
    <div class="entity-image__frame">
      <img src={src} alt={alt} loading="lazy" />
    </div>
    {caption ? <figcaption class="entity-image__caption">{caption}</figcaption> : null}
  </figure>
) : null}
