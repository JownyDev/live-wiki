---
import { marked } from 'marked';
import sanitizeHtml from 'sanitize-html';

type Props = {
  content: string;
};

const { content } = Astro.props as Props;
const rawHtml = await marked.parse(content);
const html = sanitizeHtml(rawHtml, {
  allowedTags: sanitizeHtml.defaults.allowedTags.concat(['img', 'h1', 'h2']),
  allowedAttributes: {
    ...sanitizeHtml.defaults.allowedAttributes,
    img: ['src', 'alt', 'title', 'width', 'height'],
  },
});
---

<div class="prose" set:html={html} />
